<!DOCTYPE html>
<html lang="en">

<head>
</head>

<body>
<div id="traits-grid" class="ui grid">
  <div class="two wide column">
    <div id="traits-tabs" class="ui vertical sticky fluid tabular menu inverted">
		<a class="item" data-tab="traits-positive">Positive</a>
		<a class="item" data-tab="traits-negative">Negative</a>
    </div>
  </div>
  <div class="fourteen wide stretched column">
	 <div class="ui tab segment inverted" id="traits-positive" data-tab="traits-positive">
		<vcomp-trait-table :traits="traits_positive"></vcomp-trait-table>
	 </div>
	 <div class="ui tab segment inverted" id="traits-negative" data-tab="traits-negative">
		<vcomp-trait-table :traits="traits_negative"></vcomp-trait-table>
	 </div>
  </div>
</div>
</body>
<script>
	var vue_traits = new Vue({
	  el: '#traits-grid',
	  data: {
	    traits: []
	  },
	  mounted: function() {
		$('#traits-tabs .item').tab({
	      onVisible: function(){
	        $("#traits-tabs").sticky('refresh');
	      }
	    });
	  },
	  computed: {
		traits_positive: function () {
	      return this.traits.filter(function(element){
	        if(element.type == "Positive"){return true;}
	      });
	    },
	    traits_negative: function () {
	      return this.traits.filter(function(element){
	        if(element.type == "Negative"){return true;}
	      });
	    }
	  },
	  components: {
	  	vcompTraitTable: trait_table
	  }
	});

	$.getJSON('data/traits.json').then(function(json){vue_traits.traits = json;});
	
</script>

</html>